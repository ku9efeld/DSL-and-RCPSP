
# Грамматически ограниченная генерация эвристик для RCPSP с помощью больших языковых моделей

## Цель работы
Включить грамматику подъязыка эвристик в процесс генерации (constrained decoding/парсинг‑во‑время‑генерации), 
чтобы снизить частоту синтаксических/семантических ошибок и число правок человека.

## Литературный обзор
### 1. Промптинг стратегии (ограниченные генерации)
    - LMEA (LLMs as Evolutionary Optimizers)
        Использует LLM как оптимизатор в генетическом алгоритме.
[Статья](https://arxiv.org/pdf/2310.19046), [Git](https://arxiv.org/abs/2310.19046)  

    - OPRO (Optimization by PROmpting)
        Разработка промптов от Google Deepmind. С использованием принципа обратной связи при генерации решений. 
[Статья](https://arxiv.org/pdf/2309.03409), [Git](https://github.com/google-deepmind/opro)  

    - SGE (Self-Guiding Exploration)
        Фреймворк решения задач в несколько стадий (от декомпозиции до решения задачи).
[Статья](https://arxiv.org/pdf/2405.17950), [Git](https://github.com/Zangir/LLM-for-CP)  

    - PHP (Progressive-hint prompting)
        Схож с OPRO, иттерационно рядом с заданием на генерацию указывает все предыдущие ответы.
[Статья](https://arxiv.org/pdf/2304.09797)

### 2. Нейросетовой подход (Reinforcement, NN)
1) PointerNet + JSP - [Статья](https://arxiv.org/pdf/2401.11849)
2) LoRa для QWEN модели под CO проблему - [Статья](https://arxiv.org/pdf/2509.16865)
## Эксперимент 
### 0. Генерация датасета
В качестве датасета были взяты маленькие синтетические графы работ, сгенированные с помощью SAMPO. После для датасета были использованы
 LFT, HEFT, GA(p_cross=0.15, p_mutate=0.1, generations = 10), по итогам получены oracle solution. 
### 1. Проверка гипотез о промптах

Формула расчета GAP между методами: $GAP = \frac{m_{llm}}{m_{opt_*}} - 1$.

Тут должно быть описание работы. Результат работы `script.py`

| PROBLEM   | HEFT | LFT | GA | B-makespan | llm_B_makespan | feasibility | gap  |
|-----------|------|-----|----|------------|----------------|-------------|------|
| wg_5.json | 76   | 84  | 52 | 52         | 28              | 81%         | 0%   |
| wg_29.json| 73   | 77  | 62 | 62         | 69              | 56%         | 11%  |
| wg_13.json| 74   | 86  | 58 | 58         | 69              | 91%         | 19%  |
| wg_44.json| 69   | 68  | 53 | 53         | 65              | 82%         | 23%  |
| wg_9.json | 81   | 58  | 59 | 58         | 78              | 78%         | 34%  |
| wg_25.json| 71   | 59  | 58 | 58         | 60              | 63%         | 3%   |
| wg_33.json| 76   | 83  | 70 | 70         | 28              | 68%         | 0%   |
| wg_48.json| 75   | 82  | 71 | 71         | 8               | 82%         | 0%   |
| wg_49.json| 89   | 97  | 60 | 60         | 78              | 67%         | 30%  |
| wg_32.json| 79   | 71  | 61 | 61         | 59              | 95%         | 0%   |  

GAP `-1.42 -- 25.58 %`  
Feasibility rate: `64 -- 89 %`
## Рекомендации по установке

- Создание и активация среды  
  1) Создание
    ```python3 -m venv project_rcpsp```
  2) Активация
    ```source .project_rcpsp/bin/activate```

- Установка зависимостей для проекта (переустановка)
    ```pip install -r requirements.txt```